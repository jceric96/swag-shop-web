{"ast":null,"code":"export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\nvar observers = {};\nlet instance = null;\n\nclass NotificationService {\n  constructor() {\n    this.postNotification = (notifName, data) => {\n      let obs = observers[notifName];\n\n      for (var x = 0; x < obs.length; x++) {\n        var obj = obs[x];\n        obj.callBack(data);\n      }\n    };\n\n    this.removeObserver = (observer, notifName) => {\n      var obs = observers[notifName];\n\n      if (obs) {\n        for (var x = 0; x < obs.length; x++) {\n          if (observer === obs[x].observer) {\n            obs.splice(x, 1);\n            observers[notifName] = obs;\n            break;\n          }\n        }\n      }\n    };\n\n    this.addObserver = (notifName, observer, callBack) => {\n      let obs = observers[notifName];\n\n      if (!obs) {\n        observers[notifName] = [];\n      }\n\n      let obj = {\n        observer: observer,\n        callBack: callBack\n      };\n      observers[notifName].push(obj);\n    };\n\n    if (!instance) {\n      instance = this;\n    }\n\n    return instance;\n  }\n\n}\n\nexport default NotificationService;","map":{"version":3,"names":["NOTIF_WISHLIST_CHANGED","observers","instance","NotificationService","constructor","postNotification","notifName","data","obs","x","length","obj","callBack","removeObserver","observer","splice","addObserver","push"],"sources":["/Users/zhujinchao/Documents/Brackets-Practice/swag-shop-web/src/services/notification-service.js"],"sourcesContent":["export const NOTIF_WISHLIST_CHANGED = \"notif_wishlist_changed\";\n\nvar observers ={};\nlet instance =null;\n\nclass NotificationService{\n    constructor(){\n        if(!instance){\n            instance = this;\n        }\n        \n        return instance;\n    }\n    \n    postNotification =(notifName, data) => {\n        let obs =observers[notifName];\n        for(var x= 0;x<obs.length;x++){\n            var obj =obs[x];\n            obj.callBack(data);\n        }\n    }\n    \n    removeObserver = (observer,notifName) =>{\n        var obs= observers[notifName];\n        \n        if(obs){\n           for(var x=0;x< obs.length;x++){\n               if(observer === obs[x].observer){\n                   obs.splice(x,1);\n                   observers[notifName] = obs;\n                   break;\n               }\n           }\n        }\n    }\n    \n    addObserver = (notifName, observer,callBack)=>{\n        let obs = observers[notifName];\n        \n        if(!obs){\n            observers[notifName] = [];\n        }\n        \n        let obj ={observer:observer, callBack: callBack};\n        observers[notifName].push(obj);\n    }\n}\n\nexport default NotificationService;"],"mappings":"AAAA,OAAO,MAAMA,sBAAsB,GAAG,wBAA/B;AAEP,IAAIC,SAAS,GAAE,EAAf;AACA,IAAIC,QAAQ,GAAE,IAAd;;AAEA,MAAMC,mBAAN,CAAyB;EACrBC,WAAW,GAAE;IAAA,KAQbC,gBARa,GAQK,CAACC,SAAD,EAAYC,IAAZ,KAAqB;MACnC,IAAIC,GAAG,GAAEP,SAAS,CAACK,SAAD,CAAlB;;MACA,KAAI,IAAIG,CAAC,GAAE,CAAX,EAAaA,CAAC,GAACD,GAAG,CAACE,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;QAC1B,IAAIE,GAAG,GAAEH,GAAG,CAACC,CAAD,CAAZ;QACAE,GAAG,CAACC,QAAJ,CAAaL,IAAb;MACH;IACJ,CAdY;;IAAA,KAgBbM,cAhBa,GAgBI,CAACC,QAAD,EAAUR,SAAV,KAAuB;MACpC,IAAIE,GAAG,GAAEP,SAAS,CAACK,SAAD,CAAlB;;MAEA,IAAGE,GAAH,EAAO;QACJ,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAED,GAAG,CAACE,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;UAC1B,IAAGK,QAAQ,KAAKN,GAAG,CAACC,CAAD,CAAH,CAAOK,QAAvB,EAAgC;YAC5BN,GAAG,CAACO,MAAJ,CAAWN,CAAX,EAAa,CAAb;YACAR,SAAS,CAACK,SAAD,CAAT,GAAuBE,GAAvB;YACA;UACH;QACJ;MACH;IACJ,CA5BY;;IAAA,KA8BbQ,WA9Ba,GA8BC,CAACV,SAAD,EAAYQ,QAAZ,EAAqBF,QAArB,KAAgC;MAC1C,IAAIJ,GAAG,GAAGP,SAAS,CAACK,SAAD,CAAnB;;MAEA,IAAG,CAACE,GAAJ,EAAQ;QACJP,SAAS,CAACK,SAAD,CAAT,GAAuB,EAAvB;MACH;;MAED,IAAIK,GAAG,GAAE;QAACG,QAAQ,EAACA,QAAV;QAAoBF,QAAQ,EAAEA;MAA9B,CAAT;MACAX,SAAS,CAACK,SAAD,CAAT,CAAqBW,IAArB,CAA0BN,GAA1B;IACH,CAvCY;;IACT,IAAG,CAACT,QAAJ,EAAa;MACTA,QAAQ,GAAG,IAAX;IACH;;IAED,OAAOA,QAAP;EACH;;AAPoB;;AA2CzB,eAAeC,mBAAf"},"metadata":{},"sourceType":"module"}